@전투_행동선택
#DIM DYNAMIC ㄱ = 0
#DIM DYNAMIC ㄴ = 0
#DIM DYNAMIC 무선택여부 = 1, 1 ;;;; 0 : 이전에 아무것도 안했는가 // 1 : 지금 아무것도 선택하지 않았는가
#DIM DYNAMIC ㅌ = 0
#DIM DYNAMIC ㅌ_ = 1
#DIMS DYNAMIC ㅌㅌ
#DIMS DYNAMIC ㅌㅌㅌ
#DIM DYNAMIC 애무_가능
#DIM DYNAMIC 전턴_애무함
#DIM DYNAMIC 이턴_애무시도함
#DIM DYNAMIC 회피_가능
#DIM DYNAMIC 전턴_회피함
#DIM DYNAMIC 이턴_회피시도함
#DIM DYNAMIC 구속_가능
#DIM DYNAMIC 전턴_구속함
#DIM DYNAMIC 이턴_구속시도함
#DIM DYNAMIC 차단_가능
#DIM DYNAMIC 전턴_차단함
#DIM DYNAMIC 이턴_차단시도함



ㅌㅌ = %CSTR:1:이름%
ㅌㅌㅌ = %CSTR:(캐릭터선택):이름%
IF 적행동수동선택모드 == 1
	ㅌ = 1
	ㅌ_ = 0
	ㅌㅌ = %CSTR:(캐릭터선택):이름%
	ㅌㅌㅌ = %CSTR:1:이름%
ENDIF

;#DIMS 신체표현 = "입", "왼손", "오른손", "왼쪽 유두", "오른쪽 유두", "클리", "질", "왼다리", "오른다리"
;#DIMS 행동표현 = "", "을 애무하고 있다" , "에서 떨어진다" , "을 붙잡고 있다" , "을 막고 있다"
;#DIMS 행동예약표현 = "", "을 애무할 것이다" , "에서 떨어질 것이다" , "을 붙잡을 것이다" , "을 막을 것이다"
$전투_행동선택_


CALL 파라미터표시
[SKIPSTART]
FOR ㄱ, 1, 4
	IF 부위별행동:(ㅌ*10+ㄱ):행동도구 == 999
		부위별행동대사:ㅌ:행동도구 = %ㅌㅌ%의 %신체표현:ㅌ:행동도구%은 아무것도 하지 않을 것이다
	ELSE
		FOR ㄴ, 0, 9
			IF 부위별행동:ㅌ:ㄱ:행동도구 == ㄴ
				부위별행동대사_전:ㅌ:행동도구 = %ㅌㅌ%의 %신체표현:ㅌ:행동도구%은 %ㅌㅌㅌ%의 %신체표현:ㅌ_:ㄴ% %행동표현:ㄱ%
				SIF 무선택여부:1 == 1
					무선택여부:0 = 0
				GOTO 대사표현완료
			ENDIF
		NEXT
	ENDIF
NEXT
[SKIPEND]
FOR ㄱ, 1, 4
	FOR ㄴ, 0, 9
		IF 부위별행동:(ㅌ*10+ㄱ):행동도구:ㄴ == 999
			무선택여부:0 = 1
;			부위별행동대사:ㅌ:행동도구 = %ㅌㅌ%의 %신체표현:ㅌ:행동도구%은 아무것도 하지 않을 것이다
		ELSEIF 부위별행동:(ㅌ*10+ㄱ):행동도구:ㄴ >= ㄴ
			무선택여부:0 = 0
			GOTO 대사표현완료
		ENDIF
	NEXT
NEXT
$대사표현완료

FOR ㄱ, 0, 5
	FOR ㄴ, 0, 9
		IF 부위별행동시도:(ㅌ*10+ㄱ):행동도구:ㄴ == 999
			부위별행동대사:ㅌ:행동도구 = %ㅌㅌ%의 %신체표현:ㅌ:행동도구%은 아무것도 하지 않을 것이다
			무선택여부:1 = 1
		ELSEIF 부위별행동시도:(ㅌ*10+ㄱ):행동도구:ㄴ >= 1
			SELECTCASE ㄱ
				CASE 1 || 4
					부위별행동대사:ㅌ:행동도구 = %ㅌㅌ%의 %신체표현:ㅌ:행동도구%은 %ㅌㅌㅌ%의 %신체표현:ㅌ_:ㄴ%을 %행동표현:ㄱ%
				CASE 2					
					부위별행동대사:ㅌ:행동도구 = %ㅌㅌ%의 %신체표현:ㅌ:행동도구%은 %행동표현:ㄱ%
				CASE 3
					부위별행동대사:ㅌ:행동도구 = %ㅌㅌ%의 %신체표현:ㅌ:행동도구%은 %ㅌㅌㅌ%의 %신체표현:ㅌ_:ㄴ%을 자신의 %신체표현:ㅌ:((부위별행동시도:(ㅌ*10+ㄱ):행동도구:ㄴ))%에 강압하고 있다				
			ENDSELECT
			무선택여부:1 = 0
			GOTO 대사예약표현완료
		ENDIF
	NEXT
NEXT
$대사예약표현완료

PRINTFORML \n\n%부위별행동대사_전:ㅌ:행동도구%

PRINTFORML %부위별행동대사:ㅌ:행동도구%\n\n


;전투자세
;100의자리 0 : 보통 //// 1 : 남성상위 //// 2 : 여성상위
;10의자리 0 : 직립 //// 1 : 덮침 //// 2 : 덮침_하체공략 //// 3 : 69 //// 4 : 삽입
;1의자리  0 : 평등 //// 1 : 우위 //// 2 : 압도우위 ///// 하체공략*삽입에서만 사용
;000 : 직립 //// 101 : 직립_남성기습 //// 201 : 직립_여성기습
;110 : 남성덮침 //// 210 : 여성덮침 //// 111 : 남성후덮침 //// 211 : 여성후덮침
;120 : 커닐 //// 121 : 내리꽂기커닐 //// 122 : 후방_내리꽂기커닐
;220 : 펠라파이 //// 221 : 하체묶기파이 //// 222 : 후방_내리꽂기파이
;040 : 다리꼬아삽입 //// 140 : 정상위 //// 141 : 후배위 //// 142 : 후방교배프레스
;;;;;;;;;;;;;;;;;;; /// 240 : 대면좌위 //// 241 : 기승위 //// 242 : 아마존프레스
SELECTCASE 전투자세
;0 : M // 1 : LH // 2 : RH // 3 : B // 4 : W // 5 : C // 6 : V // 7 : A // 8: L // 100 : N/A
	CASE 0
	;직립
;;;;;;;;;;;;;;;;;;;;;;;   M LH RH  B  W  C  V  A  L   // 1 : 애무 // 2 : 회피 // 3 : 구속 // 4 : 차단
;;;;;;;;;;;;;;;;;;;;;;;;;;행동선택나열
		행동선택지:(ㅌ*10+1):0:0 = 1, 0, 0, 1, 0, 0, 0, 0, 0
		행동선택지:(ㅌ*10+2):0:0 = 1
		행동선택지:(ㅌ*10+3):0:0 = 0, 0, 0, 0, 0, 0, 0, 0, 0
		행동선택지:(ㅌ*10+4):0:0 = 0, 0, 0, 0, 0, 0, 0, 0, 0

		행동선택지:(ㅌ*10+1):1:0 = 0, 0, 0, 1, 0, 1, 0, 0, 0
		행동선택지:(ㅌ*10+2):1:0 = 1
		행동선택지:(ㅌ*10+3):1:0 = 1, 1, 1, 0, 0, 0, 0, 0, 0
		행동선택지:(ㅌ*10+4):1:0 = 1, 1, 1, 0, 0, 0, 0, 0, 0

		행동선택지:(ㅌ_*10+1):0:0 = 1, 0, 0, 1, 0, 0, 0, 0, 0
		행동선택지:(ㅌ_*10+2):0:0 = 1
		행동선택지:(ㅌ_*10+3):0:0 = 0, 0, 0, 0, 0, 0, 0, 0, 0
		행동선택지:(ㅌ_*10+4):0:0 = 0, 0, 0, 0, 0, 0, 0, 0, 0

		행동선택지:(ㅌ_*10+1):1:0 = 0, 0, 0, 1, 0, 1, 0, 0, 0
		행동선택지:(ㅌ_*10+2):1:0 = 1
		행동선택지:(ㅌ_*10+3):1:0 = 1, 1, 1, 0, 0, 0, 0, 0, 0
		행동선택지:(ㅌ_*10+4):1:0 = 1, 1, 1, 0, 0, 0, 0, 0, 0
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;		
		
	CASE 1
ENDSELECT


FOR ㄱ, 0, 9
	애무_가능 = 행동선택지:(ㅌ*10+1):행동도구:ㄱ
	전턴_애무함 = 부위별행동:(ㅌ*10+1):행동도구:ㄱ
	이턴_애무시도함 = 부위별행동시도:(ㅌ*10+1):행동도구:ㄱ
	회피_가능 = 행동선택지:(ㅌ*10+2):행동도구:ㄱ
	전턴_회피함 = 부위별행동:(ㅌ*10+2):행동도구:ㄱ
	이턴_회피시도함 = 부위별행동시도:(ㅌ*10+2):행동도구:ㄱ
	구속_가능 = 행동선택지:(ㅌ*10+3):행동도구:ㄱ
	전턴_구속함 = 부위별행동:(ㅌ*10+3):행동도구:ㄱ	   ; 999일 경우 F // T일 경우 상대도구*내목표
	이턴_구속시도함 = 부위별행동시도:(ㅌ*10+3):행동도구:ㄱ; ''
	차단_가능 = 행동선택지:(ㅌ*10+4):행동도구:ㄱ
	전턴_차단함 = 부위별행동:(ㅌ*10+4):행동도구:ㄱ
	이턴_차단시도함 = 부위별행동시도:(ㅌ*10+4):행동도구:ㄱ

	IF (애무_가능 == 1) && (전턴_애무함 != 1) && (이턴_애무시도함 != 1)
		PRINTFORML [{100+ㄱ}] %신체표현:ㅌ_:ㄱ% 을(를) 애무한다
		PRINTFORML (효과 표시) \n
	ENDIF
	IF (회피_가능 == 1) && (전턴_회피함 != 1) && (이턴_회피시도함 != 1)
		PRINTFORML [{200+ㄱ}] 피한다
		PRINTFORML (효과 표시) \n
	ENDIF
	IF (구속_가능 == 1)
		PRINTFORML [{300+ㄱ}] 상대의 %신체표현:ㅌ_:ㄱ%을(를) 내 몸에 강압한다
		PRINTFORML (효과 표시) \n
	ENDIF
	IF (차단_가능 == 1) && (전턴_차단함 != 1) && (이턴_차단시도함 != 1)
		PRINTFORML [{400+ㄱ}] %신체표현:ㅌ_:ㄱ% 을(를) 차단한다. \n
		PRINTFORML (효과 표시) \n
	ENDIF
	IF (이턴_애무시도함 == 1) || (이턴_회피시도함 == 1) || (이턴_구속시도함 != 999) || (이턴_차단시도함 == 1)
		PRINTFORML [{500+ㄱ}] 선택한 행동을 취소한다. \n
	ENDIF
NEXT

PRINTFORML [999] 다른 행동을 선택한다\n

$입력선택_행동부위
INPUT
IF RESULT == 999
	CALL 전투
ELSEIF (RESULT >= 100) && (RESULT <= 599)
	IF (RESULT >= 500) && (RESULT <= 599) ; 선택한 행동시도 취소
		CALL 행동시도초기화_후_행동시도선택, ㅌ, (RESULT/100), 행동도구, (RESULT%100), 999
	ELSEIF (RESULT >= 300) && (RESULT <= 399) ; 구속
		구속목표도구 = RESULT%100
		CALL 전투_행동선택_구속선택
	ELSEIF ( (RESULT >= 100) && (RESULT <= 199) ) || ( (RESULT >= 200) && (RESULT <= 299) ) || ( (RESULT >= 400) && (RESULT <= 499) ) ; 애무||회피||차단
		CALL 행동시도초기화_후_행동시도선택, ㅌ, (RESULT/100), 행동도구, (RESULT%100), 1
	ELSE
		GOTO 입력선택_행동부위
	ENDIF
ELSE
	GOTO 입력선택_행동부위
ENDIF

GOTO 전투_행동선택_




;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;캐릭터, 종류, 도구,  목표,   판단
@행동시도초기화_후_행동시도선택, ARG, ARG:1, ARG:2, ARG:3, ARG:4
부위별행동시도:((ARG)*10+1):(ARG:2):(ARG:3) = 999
부위별행동시도:((ARG)*10+2):(ARG:2):(ARG:3) = 999
부위별행동시도:((ARG)*10+3):(ARG:2):(ARG:3) = 999
부위별행동시도:((ARG)*10+4):(ARG:2):(ARG:3) = 999
부위별행동시도:((ARG)*10+(ARG:1)):(ARG:2):(ARG:3) = ARG:4

;부위별행동:ㅌ:ㄱ:행동도구
;  주체, 종류, 행동도구
;@행위대사, ARG

[SKIPSTART]
SELECTCASE 행동도구
	CASE 0
		부위별행동대사:ㅌ:행동도구 = %CSTR:1:이름%의 입은
		부위별행동대사:1:행동도구 += CSTR:(캐릭터선택):이름
		FOR ㄱ, 0, 4
			IF 부위별행동:ㅌ:ㄱ:행동도구 == 99
				부위별행동대사:ㅌ:행동도구 = %CSTR:1:이름%의 입은
			ELSE
			FOR ㄴ, 0, 11
				IF 부위별행동:ㅌ:ㄱ:행동도구 == ㄴ
					SELECTCASE ㄱ
						CASE 0
							부위별행동대사:ㅌ:행동도구 = %CSTR:1:이름%의 %신체표현:행동도구%은 %신체표현:ㄴ%을 애무하고 있다
						CASE 1

						CASE 2
							
						CASE 3
		
					ENDSELECT
			NEXT
			ENDIF
		NEXT
	CASE 1
		
	CASE 2
		
	CASE 3

	CASE 4
		
	CASE 5
		
	CASE 6
		
	CASE 7
		
ENDSELECT

SELECTCASE 부위별행동:ㅌ:0:행동도구
	CASE 0
		부위별행동대사:ㅌ:행동도구 = %CSTR:1:이름%의 입은
		부위별행동대사:1:행동도구 += CSTR:(캐릭터선택):이름
	CASE 1
		
	CASE 2
		
	CASE 3

	CASE 4
		
	CASE 5
		
	CASE 6
		
	CASE 7
		
ENDSELECT
[SKIPEND]
[SKIPSTART]
PRINTFORML [0] %CSTR:(캐릭터선택):이름%에게 키스한다
PRINTFORML   (%CSTR:(캐릭터선택):이름%의 입은 이미 아나타의 왼쪽 유두를 핥고 있다) \n

PRINTFORML [1] %CSTR:(캐릭터선택):이름%의 왼쪽 젖꼭지를 애무한다
PRINTFORML   (%CSTR:(캐릭터선택):이름%의 몸이 아나타의 목 아래에 위치하여 자세가 나오지 않는다) \n

PRINTFORML [2] %CSTR:(캐릭터선택):이름%의 오른쪽  젖꼭지를 애무한다
PRINTFORML   (%CSTR:(캐릭터선택):이름%의 몸이 아나타의 목 아래에 위치하여 자세가 나오지 않는다) \n\n


PRINTFORML  아나타의 왼손은 %CSTR:(캐릭터선택):이름%의 가슴을 주무르고 있다\n
PRINTFORML  아나타의 오른손은 %CSTR:(캐릭터선택):이름%의 클리를 쓰다듬고 있다\n
[SKIPEND]
